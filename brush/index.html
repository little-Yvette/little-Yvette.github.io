<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>网站装修 - A Tiny Park</title><meta name=Description content><meta property="og:title" content="网站装修"><meta property="og:description" content="根目录和主题文件夹有相同的文件夹，Hugo 的特性是优先读取根目录。为了不和主题后续更新产生冲突，以及避免不小心把东西改坏了无处可退的情况，最"><meta property="og:type" content="article"><meta property="og:url" content="https://wisterias.one/brush/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-04-04T00:00:00+00:00"><meta property="article:modified_time" content="2023-04-04T21:56:09+08:00"><meta property="og:site_name" content="A Tiny Park"><meta name=twitter:card content="summary"><meta name=twitter:title content="网站装修"><meta name=twitter:description content="根目录和主题文件夹有相同的文件夹，Hugo 的特性是优先读取根目录。为了不和主题后续更新产生冲突，以及避免不小心把东西改坏了无处可退的情况，最"><meta name=application-name content="A Tiny Park"><meta name=apple-mobile-web-app-title content="A Tiny Park"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel=icon href=/images/water.svg><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://wisterias.one/brush/><link rel=prev href=https://wisterias.one/starting/><link rel=next href=https://wisterias.one/trees/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"网站装修","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/wisterias.one\/brush\/"},"genre":"posts","keywords":"hugo建站","wordcount":3264,"url":"https:\/\/wisterias.one\/brush\/","datePublished":"2023-04-04T00:00:00+00:00","dateModified":"2023-04-04T21:56:09+08:00","license":"This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"L."},"description":""}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="A Tiny Park">星期天的公园</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>文档 </a><a class=menu-item href=/tags/>标签 </a><a class=menu-item href=/categories/>盒子 </a><a class=menu-item href=/about/>关于 </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题>
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="A Tiny Park">星期天的公园</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/posts/ title>文档</a><a class=menu-item href=/tags/ title>标签</a><a class=menu-item href=/categories/ title>盒子</a><a class=menu-item href=/about/ title>关于</a><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题>
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>目录</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">网站装修</h1><div class=post-meta><div class=post-meta-line>&nbsp;<span class=post-category>放置在 <a href=/categories/%E8%AE%B0%E5%BD%95/><i class="fa-regular fa-folder-open" aria-hidden=true></i>记录</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=2023-04-04>2023-04-04</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;约 3264 字&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;预计阅读 7 分钟&nbsp;</div></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>目录</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#更改主题色>更改主题色</a><ul><li><a href=#对比度>对比度</a></li></ul></li><li><a href=#修改样式>修改样式</a><ul><li><a href=#更改字体>更改字体</a></li><li><a href=#删掉标题的项目符号>删掉标题的项目符号</a></li><li><a href=#给文内链接换个悬停效果>给文内链接换个悬停效果</a></li><li><a href=#鼠标点击效果>鼠标点击效果</a></li><li><a href=#目录样式>目录样式</a></li></ul></li><li><a href=#添加虫洞>添加虫洞</a></li><li><a href=#加一个音乐播放器>加一个音乐播放器</a></li><li><a href=#相册模式>相册模式</a></li></ul></nav></div></div><div class=content id=content><p>根目录和主题文件夹有相同的文件夹，Hugo 的特性是优先读取根目录。为了不和主题后续更新产生冲突，以及避免不小心把东西改坏了无处可退的情况，最好把主题内想要更改的文件复制到根目录的同名路径之下，再进行修改。</p><h2 id=更改主题色>更改主题色</h2><p>在 SCSS 文件中会看到这样的语句：</p><p><code>color: $global-font-color;</code> 意为颜色指定为所定义的全局字体颜色，<code>$</code> 表示这是一个变量。</p><p>这个主题另有 <code>assets\css\_variables.scss</code> 文件存放变量定义，同时 LoveIt 主题提供了 <code>_override.scss</code> 空白文件，将想要更改的变量定义写在这个文件中，会覆盖原来的定义。通过修改变量就可以大致修改整个网站的颜色。</p><p>🌈 挑颜色和配色的网站：</p><ul><li><a href=https://coolfishstudio.github.io/cfs-color/ target=_blank rel="noopener noreffer">中国传统色色谱</a>。提供了 rgb 和 hex 两种格式的色彩码，点击色块自动复制 hex 码，顶部标题栏预览颜色；</li><li><a href=https://hexcolor.co/pantone-colors target=_blank rel="noopener noreffer">潘通颜色</a>。这个网站可以查看具体的颜色信息，也有色板生成器、对比度检查工具、单色渐变、近似色、色彩搭配和运用等等之类的，功能还挺多；</li><li><a href=https://mycolor.space/ target=_blank rel="noopener noreffer">Color Space</a>。输入颜色代码，可以生成多种色板，比上面那个网站要好看些；</li><li><a href=https://mdigi.tools/color-shades/ target=_blank rel="noopener noreffer">Color Shade Generator</a>。如果只想找一找渐变色这个就合适，有 hex, rgb, hsl, hsv 四种格式的颜色代码。</li></ul><h3 id=对比度>对比度</h3><p>换了主题色，担心选的颜色会不会太淡了，感觉自己肉眼判断不可靠，就用<strong>开发人员工具（F12）—— 元素检查器</strong>查看，果然有些地方对比度达不到标准。有意义的、非装饰性的文字与背景的对比度至少应该达到 4.5:1（见 <a href=https://www.w3.org/TR/WCAG21/#contrast-minimum target=_blank rel="noopener noreffer">WCAG 2.1</a>）。</p><p>🔧 工具：</p><ul><li><a href=https://m3.material.io/styles/color/the-color-system/accessibility target=_blank rel="noopener noreffer">Material Design —— Color & Accessibility</a>。谷歌的设计规范指引;</li><li><a href=https://webaim.org/resources/contrastchecker/ title=对比度在线检查 target=_blank rel="noopener noreffer">Contrast Checker</a>。输入两种颜色的 hex 码即可检查；</li><li><a href=https://contrast-finder.tanaguru.com/ target=_blank rel="noopener noreffer">tanaguru contrast finder</a>。方法和上面的网站大致一样，但是如果未达到标准的话，还提供了一些接近所选颜色，但是更符合对比度标准的颜色。</li></ul><h2 id=修改样式>修改样式</h2><h3 id=更改字体>更改字体</h3><p>现在网站使用的字体是<a href=https://github.com/lxgw/LxgwWenKai title="字体 Github 仓库" target=_blank rel="noopener noreffer">霞鹜文楷</a>，可以通过 CDN 引用。在 <code>_override.scss</code> 中增改一下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-scss data-lang=scss><span class=line><span class=cl><span class=k>@import</span> <span class=sx>url(&#39;https://cdn.jsdelivr.net/npm/lxgw-wenkai-webfont@1.1.0/style.css&#39;)</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nv>$global-font-family</span><span class=o>:</span> <span class=s2>&#34;LXGW WenKai&#34;</span><span class=o>,</span> <span class=ni>sans-serif</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><p>本地预览字体是可以的，不知道推送到远程后会不会起效。</p><p>（貌似本地预览有时也失效）</p><h3 id=删掉标题的项目符号>删掉标题的项目符号</h3><p>不太喜欢主题自带的次级标题前的项目符号。在这个主题里，文内标题的样式是在 <code>assets\css\_page\single.scss</code> 这个文件里定义的，我在 <code>.content >h2</code> 这里添加了两行，以在 h2 标题下添加分割线，拉开间距。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-scss data-lang=scss><span class=line><span class=cl><span class=na>border-bottom</span><span class=o>:</span> <span class=mi>1</span><span class=kt>px</span> <span class=ni>dashed</span> <span class=mh>#BDB9C5</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=na>padding-bottom</span><span class=o>:</span> <span class=mi>1</span><span class=mf>.2</span><span class=kt>em</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><p>但是改完这个之后，我还是希望鼠标悬停在标题行时前面能够出现点东西。研究了不止一下这个网站（<a href=https://blog.meow.page/ target=_blank rel="noopener noreffer">驱蚊器喵的插座</a>）页面上的代码，换了选择器，移植到了这个页面上：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-scss data-lang=scss><span class=line><span class=cl><span class=c1>// custom-icon before the h//
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=o>&gt;</span> <span class=nt>h2</span><span class=o>,</span>
</span></span><span class=line><span class=cl>    <span class=o>&gt;</span> <span class=nt>h3</span><span class=o>,</span>
</span></span><span class=line><span class=cl>    <span class=o>&gt;</span> <span class=nt>h4</span><span class=o>,</span>
</span></span><span class=line><span class=cl>    <span class=o>&gt;</span> <span class=nt>h5</span><span class=o>,</span>
</span></span><span class=line><span class=cl>    <span class=o>&gt;</span> <span class=nt>h6</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=nc>.header-mark</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=na>visibility</span><span class=o>:</span> <span class=ni>hidden</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>      <span class=o>&gt;</span> <span class=nc>.header-mark</span><span class=nd>::before</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>              <span class=na>content</span><span class=o>:</span> <span class=s1>&#39;\1f342&#39;</span><span class=p>;</span>      <span class=c1>//落叶的 unicode
</span></span></span><span class=line><span class=cl><span class=c1></span>              <span class=na>position</span><span class=o>:</span><span class=ni>absolute</span><span class=p>;</span>
</span></span><span class=line><span class=cl>              <span class=na>margin-left</span><span class=o>:</span> <span class=o>-</span><span class=mi>2</span><span class=mf>.15</span><span class=kt>em</span><span class=p>;</span>
</span></span><span class=line><span class=cl>              <span class=na>padding-right</span><span class=o>:</span> <span class=mi>1</span><span class=mf>.15</span><span class=kt>em</span><span class=p>;</span>
</span></span><span class=line><span class=cl>              <span class=na>color</span><span class=o>:</span> <span class=nv>$single-link-color</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>              <span class=o>[</span><span class=nt>theme</span><span class=o>=</span><span class=nt>dark</span><span class=o>]</span> <span class=k>&amp;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>              <span class=na>color</span><span class=o>:</span> <span class=nv>$single-link-color-dark</span><span class=p>;</span>
</span></span><span class=line><span class=cl>              <span class=p>}</span>
</span></span><span class=line><span class=cl>         <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>:hover</span> <span class=nc>.header-mark</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=na>visibility</span><span class=o>:</span> <span class=ni>visible</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=c1>// custom-icon before the h//
</span></span></span></code></pre></td></tr></table></div></div><h3 id=给文内链接换个悬停效果>给文内链接换个悬停效果</h3><p>主题默认超链接用蓝色来表示，鼠标滑到链接时变成红色，但是我在 Stack 主题里看到了更喜欢的效果。同样在上面的那个<code>single.scss</code>中更改。Markdown 中的超链接就是 html 中的<code>&lt;a></code>。元素检查模式下选中想要更改的元素，在样式一栏可以看到这个元素在哪个文件里。代码来自 <a href=https://css-tricks.com/css-link-hover-effects/ title=Creative-Ideas-for-CSS-Link-Hover-Effects target=_blank rel="noopener noreffer">这篇文章</a> 中的 growing background hover effect。我改了颜色，并且加上了暗色模式下适用的。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-scss data-lang=scss><span class=line><span class=cl><span class=nd>:is</span><span class=o>(</span><span class=nt>p</span><span class=o>,</span> <span class=nt>ul</span><span class=o>)</span> <span class=nt>a</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>@include</span><span class=nd> overflow-wrap</span><span class=p>(</span><span class=ni>break-word</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=na>text-decoration</span><span class=o>:</span> <span class=ni>none</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=na>color</span><span class=o>:</span> <span class=nv>$single-link-color</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=na>font-weight</span><span class=o>:</span> <span class=mi>700</span><span class=p>;</span> 
</span></span><span class=line><span class=cl>      <span class=na>position</span><span class=o>:</span> <span class=ni>relative</span><span class=p>;</span>
</span></span><span class=line><span class=cl>       
</span></span><span class=line><span class=cl>      <span class=o>[</span><span class=nt>theme</span><span class=o>=</span><span class=nt>dark</span><span class=o>]</span> <span class=k>&amp;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=na>color</span><span class=o>:</span> <span class=mh>#e5e5e6</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=na>font-weight</span><span class=o>:</span> <span class=mi>400</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>         <span class=k>&amp;</span><span class=nd>::before</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=na>content</span><span class=o>:</span> <span class=s1>&#39;&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=na>background-color</span><span class=o>:</span> <span class=nf>hsla</span><span class=p>(</span><span class=mi>42</span><span class=o>,</span> <span class=mi>32</span><span class=kt>%</span><span class=o>,</span> <span class=mi>86</span><span class=kt>%</span><span class=o>,</span> <span class=mi>0</span><span class=mf>.9</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=na>position</span><span class=o>:</span> <span class=ni>absolute</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=na>left</span><span class=o>:</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=na>bottom</span><span class=o>:</span> <span class=mi>3</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=na>width</span><span class=o>:</span> <span class=mi>100</span><span class=kt>%</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=na>height</span><span class=o>:</span> <span class=mi>4</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=na>z-index</span><span class=o>:</span> <span class=o>-</span><span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=na>transition</span><span class=o>:</span> <span class=ni>all</span> <span class=mi>0</span><span class=mf>.3</span><span class=kt>s</span> <span class=ni>ease-in-out</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>            <span class=o>[</span><span class=nt>theme</span><span class=o>=</span><span class=nt>dark</span><span class=o>]</span> <span class=k>&amp;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=na>background-color</span><span class=o>:</span> <span class=nf>hsla</span><span class=p>(</span><span class=mi>34</span><span class=o>,</span> <span class=mi>34</span><span class=kt>%</span><span class=o>,</span> <span class=mi>62</span><span class=kt>%</span><span class=o>,</span> <span class=mi>0</span><span class=mf>.5</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>         <span class=k>&amp;</span><span class=nd>:hover</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=na>color</span><span class=o>:</span> <span class=mh>#2e561a</span><span class=p>;</span>
</span></span><span class=line><span class=cl>         
</span></span><span class=line><span class=cl>           <span class=o>[</span><span class=nt>theme</span><span class=o>=</span><span class=nt>dark</span><span class=o>]</span> <span class=k>&amp;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=na>color</span><span class=o>:</span> <span class=mh>#fcfaf8</span><span class=p>;</span>
</span></span><span class=line><span class=cl>           <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>         <span class=k>&amp;</span><span class=nd>:hover::before</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=na>bottom</span><span class=o>:</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=na>height</span><span class=o>:</span> <span class=mi>100</span><span class=kt>%</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=cm>/* custom-growing bg hover effect */</span>
</span></span></code></pre></td></tr></table></div></div><p>简单更改了这个悬停效果，以为万事大吉了。后来发现和文档里的标题样式有冲突，因为标题同样使用了<code>&lt;a></code>标签，我猜可能是因为这个。需要让这个效果只作用于自己在文档里添加的超链接。目前的解决办法是将选择器写成<code>:is(p, ul) a</code>，选择<code>&lt;p></code>和<code>&lt;ul></code>标签内的<code>&lt;a></code>。不知道还有没有别的办法。暂时没有产生更让我掉 san 值的画面，除了移动端这个效果无效以及换行了的链接悬停背景不会出现。</p><h3 id=鼠标点击效果>鼠标点击效果</h3><p>代码是在 <a href=https://shishuochen.gitee.io/2020/uffick8u1/ target=_blank rel="noopener noreffer">ANY_ME—— Hugo 博客自定义优化</a>这篇中看到的，如下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;https://cdn.jsdelivr.net/gh/ITJoker233/ITJoker233.github.io@latest/CDN/js/love.min.js&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>原先的是红色的心，我想换个颜色，就把上面那条换成<code>js</code>格式的添加在了自定 js 文件中。按照主题提供的自定义方式，在<code>assets\js</code>下新建了<code>some.js</code>，并且将根目录配置文件中的<code>[params.page.library.js]</code>变量下添加路径 <code>someJavascript = "js/some.js"</code>。虽然我完全看不懂 js 代码，但表示颜色的那句还挺好找：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>!</span> <span class=kd>function</span> <span class=p>(</span><span class=nx>e</span><span class=p>,</span> <span class=nx>t</span><span class=p>,</span> <span class=nx>a</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>function</span> <span class=nx>n</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>c</span><span class=p>(</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;.heart{width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: &#39;&#39;;width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;}.heart:after{top: -5px;}.heart:before{left: -5px;}&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>),</span> <span class=nx>i</span><span class=p>(),</span> <span class=nx>r</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>function</span> <span class=nx>r</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>for</span> <span class=p>(</span><span class=kd>var</span> <span class=nx>e</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>e</span> <span class=o>&lt;</span> <span class=nx>l</span><span class=p>.</span><span class=nx>length</span><span class=p>;</span> <span class=nx>e</span><span class=o>++</span><span class=p>)</span> <span class=nx>l</span><span class=p>[</span><span class=nx>e</span><span class=p>].</span><span class=nx>alpha</span> <span class=o>&lt;=</span> <span class=mi>0</span> <span class=o>?</span> <span class=p>(</span><span class=nx>t</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>removeChild</span><span class=p>(</span><span class=nx>l</span><span class=p>[</span><span class=nx>e</span><span class=p>].</span><span class=nx>el</span><span class=p>),</span> <span class=nx>l</span><span class=p>.</span><span class=nx>splice</span><span class=p>(</span><span class=nx>e</span><span class=p>,</span> <span class=mi>1</span><span class=p>))</span> <span class=o>:</span> <span class=p>(</span><span class=nx>l</span><span class=p>[</span><span class=nx>e</span><span class=p>].</span><span class=nx>y</span><span class=o>--</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nx>l</span><span class=p>[</span><span class=nx>e</span><span class=p>].</span><span class=nx>scale</span> <span class=o>+=</span> <span class=p>.</span><span class=mi>004</span><span class=p>,</span> <span class=nx>l</span><span class=p>[</span><span class=nx>e</span><span class=p>].</span><span class=nx>alpha</span> <span class=o>-=</span> <span class=p>.</span><span class=mi>013</span><span class=p>,</span> <span class=nx>l</span><span class=p>[</span><span class=nx>e</span><span class=p>].</span><span class=nx>el</span><span class=p>.</span><span class=nx>style</span><span class=p>.</span><span class=nx>cssText</span> <span class=o>=</span> <span class=s2>&#34;left:&#34;</span> <span class=o>+</span> <span class=nx>l</span><span class=p>[</span><span class=nx>e</span><span class=p>].</span><span class=nx>x</span> <span class=o>+</span> <span class=s2>&#34;px;top:&#34;</span> <span class=o>+</span> <span class=nx>l</span><span class=p>[</span><span class=nx>e</span><span class=p>].</span><span class=nx>y</span> <span class=o>+</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;px;opacity:&#34;</span> <span class=o>+</span> <span class=nx>l</span><span class=p>[</span><span class=nx>e</span><span class=p>].</span><span class=nx>alpha</span> <span class=o>+</span> <span class=s2>&#34;;transform:scale(&#34;</span> <span class=o>+</span> <span class=nx>l</span><span class=p>[</span><span class=nx>e</span><span class=p>].</span><span class=nx>scale</span> <span class=o>+</span> <span class=s2>&#34;,&#34;</span> <span class=o>+</span> <span class=nx>l</span><span class=p>[</span><span class=nx>e</span><span class=p>].</span><span class=nx>scale</span> <span class=o>+</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;) rotate(45deg);background:&#34;</span> <span class=o>+</span> <span class=nx>l</span><span class=p>[</span><span class=nx>e</span><span class=p>].</span><span class=nx>color</span> <span class=o>+</span> <span class=s2>&#34;;z-index:99999&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=nx>requestAnimationFrame</span><span class=p>(</span><span class=nx>r</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>function</span> <span class=nx>i</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>t</span> <span class=o>=</span> <span class=s2>&#34;function&#34;</span> <span class=o>==</span> <span class=k>typeof</span> <span class=nx>e</span><span class=p>.</span><span class=nx>onclick</span> <span class=o>&amp;&amp;</span> <span class=nx>e</span><span class=p>.</span><span class=nx>onclick</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=nx>e</span><span class=p>.</span><span class=nx>onclick</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nx>t</span> <span class=o>&amp;&amp;</span> <span class=nx>t</span><span class=p>(),</span> <span class=nx>o</span><span class=p>(</span><span class=nx>e</span><span class=p>)</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>function</span> <span class=nx>o</span><span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>a</span> <span class=o>=</span> <span class=nx>t</span><span class=p>.</span><span class=nx>createElement</span><span class=p>(</span><span class=s2>&#34;div&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=nx>a</span><span class=p>.</span><span class=nx>className</span> <span class=o>=</span> <span class=s2>&#34;heart&#34;</span><span class=p>,</span> <span class=nx>l</span><span class=p>.</span><span class=nx>push</span><span class=p>({</span>
</span></span><span class=line><span class=cl>          <span class=nx>el</span><span class=o>:</span> <span class=nx>a</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nx>x</span><span class=o>:</span> <span class=nx>e</span><span class=p>.</span><span class=nx>clientX</span> <span class=o>-</span> <span class=mi>5</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nx>y</span><span class=o>:</span> <span class=nx>e</span><span class=p>.</span><span class=nx>clientY</span> <span class=o>-</span> <span class=mi>5</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nx>scale</span><span class=o>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nx>alpha</span><span class=o>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nx>color</span><span class=o>:</span> <span class=nx>s</span><span class=p>()</span>
</span></span><span class=line><span class=cl>      <span class=p>}),</span> <span class=nx>t</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>appendChild</span><span class=p>(</span><span class=nx>a</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>function</span> <span class=nx>c</span><span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>a</span> <span class=o>=</span> <span class=nx>t</span><span class=p>.</span><span class=nx>createElement</span><span class=p>(</span><span class=s2>&#34;style&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=nx>a</span><span class=p>.</span><span class=nx>type</span> <span class=o>=</span> <span class=s2>&#34;text/css&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nx>a</span><span class=p>.</span><span class=nx>appendChild</span><span class=p>(</span><span class=nx>t</span><span class=p>.</span><span class=nx>createTextNode</span><span class=p>(</span><span class=nx>e</span><span class=p>))</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>t</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nx>a</span><span class=p>.</span><span class=nx>styleSheet</span><span class=p>.</span><span class=nx>cssText</span> <span class=o>=</span> <span class=nx>e</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=nx>t</span><span class=p>.</span><span class=nx>getElementsByTagName</span><span class=p>(</span><span class=s2>&#34;head&#34;</span><span class=p>)[</span><span class=mi>0</span><span class=p>].</span><span class=nx>appendChild</span><span class=p>(</span><span class=nx>a</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>function</span> <span class=nx>s</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=s2>&#34;rgb(236,138,164)&#34;</span> <span class=c1>//change color of the heart 
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>l</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl>  <span class=nx>e</span><span class=p>.</span><span class=nx>requestAnimationFrame</span> <span class=o>=</span> <span class=nx>e</span><span class=p>.</span><span class=nx>requestAnimationFrame</span> <span class=o>||</span> <span class=nx>e</span><span class=p>.</span><span class=nx>webkitRequestAnimationFrame</span> <span class=o>||</span> <span class=nx>e</span><span class=p>.</span><span class=nx>mozRequestAnimationFrame</span> <span class=o>||</span>
</span></span><span class=line><span class=cl>      <span class=nx>e</span><span class=p>.</span><span class=nx>oRequestAnimationFrame</span> <span class=o>||</span> <span class=nx>e</span><span class=p>.</span><span class=nx>msRequestAnimationFrame</span> <span class=o>||</span> <span class=kd>function</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nx>setTimeout</span><span class=p>(</span><span class=nx>e</span><span class=p>,</span> <span class=mf>1e3</span> <span class=o>/</span> <span class=mi>60</span><span class=p>)</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span> <span class=nx>n</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>}(</span><span class=nb>window</span><span class=p>,</span> <span class=nb>document</span><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=目录样式>目录样式</h3><p>忘记怎么改的了。改完这个之后发现点击目录无法跳转到页面指定位置，我以为是锚点的问题，检查过后发现是匹配的。偶然搜索时偶然看到<a href=https://www.ariesme.com/posts/2019/add_toc_for_hugo/ target=_blank rel="noopener noreffer">这篇文章</a>中提到了这个问题，“toc模板&mldr;&mldr;会将中文字符编码成%xx&mldr;这样 js 无法识别”。果然，换成英文标题就可以，我想着把网站设置成中文能不能解决呢，在配置文件中添加了简体中文后一切如常，没有变化。但知道具体问题之后再问 AI，它就给了一段代码：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nb>document</span><span class=p>.</span><span class=nx>querySelectorAll</span><span class=p>(</span><span class=s1>&#39;a[href^=&#34;#&#34;]&#39;</span><span class=p>).</span><span class=nx>forEach</span><span class=p>(</span><span class=nx>anchor</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nx>anchor</span><span class=p>.</span><span class=nx>textContent</span><span class=p>.</span><span class=nx>match</span><span class=p>(</span><span class=sr>/[\u4e00-\u9fa5]/</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>anchor</span><span class=p>.</span><span class=nx>addEventListener</span><span class=p>(</span><span class=s1>&#39;click&#39;</span><span class=p>,</span> <span class=kd>function</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>e</span><span class=p>.</span><span class=nx>preventDefault</span><span class=p>();</span>
</span></span><span class=line><span class=cl>            <span class=nb>document</span><span class=p>.</span><span class=nx>querySelector</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>getAttribute</span><span class=p>(</span><span class=s1>&#39;href&#39;</span><span class=p>)).</span><span class=nx>scrollIntoView</span><span class=p>({</span>
</span></span><span class=line><span class=cl>                <span class=nx>behavior</span><span class=o>:</span> <span class=s1>&#39;smooth&#39;</span>
</span></span><span class=line><span class=cl>            <span class=p>});</span>
</span></span><span class=line><span class=cl>        <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><p>添加至自定义 js 文件后，就可以正常跳转了。AI 提供解决方法，我去执行，我比人工智能更像机器。</p><h2 id=添加虫洞>添加虫洞</h2><p>点击虫洞会随机去一个十年之约成员的博客，我觉得还挺有意思的。虽然我没加入这个，可不影响访问其他人的网站。<a href=https://www.foreverblog.cn/notice/16.html target=_blank rel="noopener noreffer">十年之约官网</a>提供了 html 格式的链接 logo。我在 <code>layouts/partials/footer</code> 中添加了这两行：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>p</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;https://www.foreverblog.cn/go.html&#34;</span> <span class=na>target</span><span class=o>=</span><span class=s>&#34;_blank&#34;</span><span class=p>&gt;</span> 
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>img</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;https://img.foreverblog.cn/wormhole_3_tp.gif&#34;</span> <span class=na>alt</span><span class=o>=</span><span class=s>&#34;&#34;</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;width:auto;height:32px;padding-bottom:1.5rem&#34;</span> <span class=na>title</span><span class=o>=</span><span class=s>&#34;穿梭虫洞-随机访问十年之约友链博客&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=加一个音乐播放器>加一个音乐播放器</h2><p>代码来自<a href=https://irithys.com/p/%E7%BB%99hugo%E5%8A%A0%E4%B8%80%E7%82%B9%E5%A5%BD%E7%8E%A9%E7%9A%84%E5%8A%9F%E8%83%BD/#%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E5%99%A8 target=_blank rel="noopener noreffer">山茶花舍——安装音乐播放器</a>。</p><p>LoveIt 主题提供了文档内加音乐播放器的短代码，使用的是 APlayer 和 MetingJS 库，以及 APlayer 也有适合多个平台的<a href=https://github.com/DIYgod/APlayer target=_blank rel="noopener noreffer">插件</a>。短代码可以放在文档里，但不能全局使用。这个主题也没有 <code>custom.html</code> 文件，所以呢，在 Bing AI 的（<del>指导</del>）启发之下，我在 <code>\layouts\partials\</code> 下新建了一个 <code>music.html</code> 文件，复制了上边那篇文章里的代码。在根目录的 <code>static</code> 文件夹中建了 <code>images</code> 和 <code>music</code> 两个子文件夹用来存放本地资源。</p><p>一开始添加音乐播放器的时候，出现了只有主页能播放音乐的问题，其他页面只有播放器那个空壳子，没有封面，没有音乐，显示 <strong>an audio error has occurred</strong>，控制台显示找不到资源。Bing AI 说可能是引用路径没写对哦，前面要加斜杠。在 <code>music</code> 这个属性中添加本地文件路径，要写做：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>audio</span><span class=o>:</span><span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nx>name</span><span class=o>:</span><span class=s1>&#39;Teo Torriatte&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>url</span><span class=o>:</span><span class=s1>&#39;/music/Teo Torriatte-c.mp3&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>artist</span><span class=o>:</span><span class=s1>&#39;Queen&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>cover</span><span class=o>:</span><span class=s1>&#39;/images/Teo Torriatte.jpg&#39;</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nx>name</span><span class=o>:</span><span class=s1>&#39;Brideshead Revisited Theme&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>url</span><span class=o>:</span><span class=s1>&#39;/music/Brideshead Revisited Theme.flac&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>artist</span><span class=o>:</span><span class=s1>&#39;Geoffrey Burgon&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>cover</span><span class=o>:</span><span class=s1>&#39;/images/revisited.jpg&#39;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><p>然后在 <code>\layouts\_default\baseof.html</code> 的 <code>wrapper</code> 属性里添加一行：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl>{{- partial &#34;music.html&#34; . -}}
</span></span></code></pre></td></tr></table></div></div><p>为什么添加在这里呢，我也不知道，就是看到上面一行是和 footer 有关的。写完这段我又测试了一下，跨页面的话音乐就会停，不知道怎么解决。</p><h2 id=相册模式>相册模式</h2><p>话说，我建这个是想用来放照片。主题已经含有了 <a href=https://www.lightgalleryjs.com/ target=_blank rel="noopener noreffer">lightgallery</a>，貌似默认状态下照片只会以单列的形式出现，但我想要一个网格的样子。折腾了一下弹性盒子和 bootstrap 网格系统，都不太成功或者不太符合我的需求。我需要等宽不等高，不使用 js 的。最后试了试 column-count 属性，有效，代码来自<a href=https://w3bits.com/css-masonry/ title=纯CSS实现响应式瀑布流布局 target=_blank rel="noopener noreffer">这个教程</a>。</p><p>要在 Hugo 中直接使用 html 写东西，需要将配置文件中的这条设置为 true：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=line><span class=cl><span class=p>[</span><span class=nx>markup</span><span class=p>.</span><span class=nx>goldmark</span><span class=p>.</span><span class=nx>renderer</span><span class=p>]</span>
</span></span><span class=line><span class=cl>      <span class=c># whether to use HTML tags directly in the document</span>
</span></span><span class=line><span class=cl>      <span class=c># 是否在文档中直接使用 HTML 标签</span>
</span></span><span class=line><span class=cl>      <span class=nx>unsafe</span> <span class=p>=</span> <span class=kc>true</span>
</span></span></code></pre></td></tr></table></div></div><p>在相册 markdown 文档中我添加了下面的代码，<code>cell</code>中添加图片：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>link</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;album.css&#34;</span> <span class=na>rel</span><span class=o>=</span><span class=s>&#34;stylesheet&#34;</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;text/css&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;masonry&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;cell&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        ...
</span></span><span class=line><span class=cl>      <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        ...
</span></span><span class=line><span class=cl>      <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>样式表放在同层目录下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=cl><span class=o>*</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>box-sizing</span><span class=p>:</span> <span class=kc>border-box</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>*,</span>
</span></span><span class=line><span class=cl><span class=o>*</span><span class=p>:</span><span class=nd>before</span><span class=o>,</span>
</span></span><span class=line><span class=cl><span class=o>*</span><span class=p>:</span><span class=nd>after</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>box-sizing</span><span class=p>:</span> <span class=kc>inherit</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>*,</span>
</span></span><span class=line><span class=cl><span class=o>*</span><span class=p>:</span><span class=nd>before</span><span class=o>,</span>
</span></span><span class=line><span class=cl><span class=o>*</span><span class=p>:</span><span class=nd>after</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>box-sizing</span><span class=p>:</span> <span class=kc>inherit</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nc>masonry</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>margin-top</span><span class=p>:</span> <span class=mi>3</span><span class=kt>em</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>column-gap</span><span class=p>:</span> <span class=mf>0.7</span><span class=kt>em</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>max-width</span><span class=p>:</span> <span class=mi>768</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nc>cell</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>display</span><span class=p>:</span><span class=kc>inline-block</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>margin</span><span class=p>:</span> <span class=mi>0</span> <span class=mi>0</span> <span class=mf>0.35</span><span class=kt>em</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>width</span><span class=p>:</span> <span class=mi>100</span><span class=kt>%</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nc>cell</span><span class=p>:</span><span class=nd>hover</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>filter</span><span class=p>:</span> <span class=nb>brightness</span><span class=p>(</span><span class=mi>115</span><span class=kt>%</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>@</span><span class=k>media</span> <span class=nt>only</span> <span class=nt>screen</span> <span class=nt>and</span> <span class=o>(</span><span class=nt>min-width</span><span class=p>:</span><span class=nd>768px</span><span class=o>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=nc>masonry</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>column-count</span><span class=p>:</span> <span class=mi>3</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>@</span><span class=k>media</span> <span class=nt>only</span> <span class=nt>screen</span> <span class=nt>and</span> <span class=o>(</span><span class=nt>max-width</span><span class=o>:</span> <span class=nt>767px</span><span class=o>)</span> <span class=nt>and</span> <span class=o>(</span><span class=nt>min-width</span><span class=o>:</span> <span class=nt>576px</span><span class=o>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=nc>masonry</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>column-count</span><span class=p>:</span> <span class=mi>2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>@</span><span class=k>media</span> <span class=nt>only</span> <span class=nt>screen</span> <span class=nt>and</span> <span class=o>(</span><span class=nt>max-width</span><span class=p>:</span><span class=nd>575px</span><span class=o>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=nc>masonry</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>column-count</span><span class=p>:</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nt>img</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>border-radius</span><span class=p>:</span> <span class=mi>3</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>object-fit</span><span class=p>:</span> <span class=kc>cover</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>这段可能还是存在问题。</p><hr><p>做完这些之后我终于意识到自己只是喜欢搞点有的没的无用的东西。</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>更新于 2023-04-04</span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="分享到 Pinterest" data-sharer=pinterest data-url=https://wisterias.one/brush/><i class="fab fa-pinterest fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fa-solid fa-paperclip" aria-hidden=true></i>&nbsp;<a href=/tags/hugo%E5%BB%BA%E7%AB%99/>hugo建站</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>返回</a></span>&nbsp;|&nbsp;<span><a href=/>主页</a></span></section></div><div class=post-nav><a href=/starting/ class=prev rel=prev title=建站记录><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>建站记录</a>
<a href=/trees/ class=next rel=next title=树>树<i class="fas fa-angle-right fa-fw" aria-hidden=true></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>使用 <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.110.0">Hugo</a> 搭建 | 主题 - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.11">LoveIt</a></div><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2023</span><span>&nbsp; &nbsp;<span>Made with 🍂</span></span><p><a href=https://www.foreverblog.cn/go.html target=_blank><img src=https://img.foreverblog.cn/wormhole_3_tp.gif alt style=width:auto;height:32px;padding-bottom:1.5rem title=穿梭虫洞-随机访问十年之约友链博客></a></p></div></div></footer><!doctype html><html><head><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css><script src=https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/meting@2.0.1/dist/Meting.min.js></script></head><body><div class=demo><div id=player1></div></div><script>const ap=new APlayer({container:document.getElementById("player1"),fixed:!0,autoplay:!1,mini:!0,theme:"#f8f4fc",loop:"all",order:"random",preload:"auto",volume:.5,mutex:!0,listFolded:!1,listMaxHeight:90,lrcType:0,audio:[{name:"Teo Torriatte",url:"/music/Teo Torriatte-c.mp3",artist:"Queen",cover:"/images/Teo Torriatte.jpg"},{name:"Brideshead Revisited Theme",url:"/music/Brideshead Revisited Theme.flac",artist:"Geoffrey Burgon",cover:"/images/revisited.jpg"}]})</script></body></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title=回到顶部><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title=查看评论><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/css/lightgallery-bundle.min.css><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/lightgallery.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/plugins/thumbnail/lg-thumbnail.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/plugins/zoom/lg-zoom.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js></script><script type=text/javascript src=/js/some.js></script><script type=text/javascript>window.config={code:{copyTitle:"复制到剪贴板",maxShownLines:15},comment:{},lightgallery:!0}</script><script type=text/javascript src=/js/theme.min.js></script></body></html>