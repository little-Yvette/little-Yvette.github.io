---
title: "å»ºç«™è®°å½•"
date: 2023-02-21T21:35:33+08:00
draft: false
author: "L."
categories: ["è®°å½•"]
tags: ["hugoå»ºç«™"]
code:
  copy: true
  maxShownLines: 15
---
å¤§è‡´çš„æµç¨‹æ˜¯ï¼š...
<!---->

{{< admonition warning "æ³¨æ„è¿™é‡Œ~" true>}}
è¿™ç¯‡è®°å½•é‡Œæä¾›çš„æ–¹æ³•å¾ˆæœ‰å¯èƒ½ä¸æ˜¯æœ€ä¼˜æˆ–è€…æ­£ç¡®çš„ï¼Œè¯´ä¸å®šåªæ˜¯æ­ªæ‰“æ­£ç€äº†ï¼Œã€‚
{{< /admonition>}}

## é¢„å…ˆå‡†å¤‡

ä»¥ä¸‹æ“ä½œåŸºäº windows å¹³å°

ä½¿ç”¨åˆ°å·¥å…·/å¹³å°ï¼š
- ç»ˆç«¯ï¼Œæ¯”å¦‚ï¼š[Powershell](https://learn.microsoft.com/en-us/powershell/scripting/install/installing-powershell-on-windows?view=powershell-7.3 "å¾®è½¯å…³äºPowershellçš„æ–‡æ¡£")ï¼Œ[Git Bash](https://git-scm.com/downloads "Gitä¸‹è½½å®˜ç½‘")
- [Visual Studio Code](https://code.visualstudio.com/)
- [Github](https://docs.github.com/zh/get-started)ï¼ˆéœ€è¦æ³¨å†Œè´¦å·ï¼‰
- [Hugoå®˜ç½‘](https://gohugo.io/)
- è¿˜æ²¡æƒ³å¥½

å‚è€ƒï¼š
- [Hugoå®˜ç½‘](https://gohugo.io/)ï¼ˆhugoçš„ä»‹ç»ã€è¯´æ˜æ–‡æ¡£ã€å®‰è£…ä¸‹è½½æ–¹å¼ä»¥åŠæ¨¡æ¿éƒ½å¯ä»¥åœ¨å®˜ç½‘æ‰¾åˆ°ï¼Œâœ¨æœ‰äº›æ¨¡æ¿ä¹Ÿä¼šæä¾›æ¯”è¾ƒè¯¦ç»†çš„ç”¨æˆ·æ–‡æ¡£ï¼Œä»å®‰è£…æ¨¡æ¿åˆ°è‡ªå®šä¹‰ç½‘ç«™ï¼‰
- [MDNæ–‡æ¡£â€”â€”Webå…¥é—¨æ¦‚è¿°](https://developer.mozilla.org/zh-CN/docs/Learn/Getting_started_with_the_web) ğŸ‘ˆ è¿™é‡Œä¹Ÿæœ‰[HTML]^(è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€)ï¼Œ[CSS]^(å±‚å æ ·å¼è¡¨)ç­‰ç­‰æ•™ç¨‹ï¼Œèƒ½çœ‹å¾—æ‡‚ä¸€ç‚¹çš„è¯ï¼Œç…§è‘«èŠ¦ç”»ç“¢å°±å®¹æ˜“äº›ï¼›
- [éƒé¸¿æ¶›â€”â€”å¦‚ä½•é›¶åŸºç¡€å…è´¹æ­å»ºä¸ªäººç½‘ç«™ï¼ˆ2021-03-02ï¼‰](https://hongtaoh.com/cn/2021/03/02/personal-website-tutorial/#å‰æœŸå‡†å¤‡)
- [å±±èŒ¶èŠ±èˆ](https://irithys.com/categories/%E5%9C%A8%E5%B0%8F%E5%B1%8B%E9%87%8C%E6%94%BE%E4%B8%80%E6%9C%B5%E8%8A%B1%E5%84%BF/)ã€‚è¿™é‡Œæœ‰ä¸å°‘æœ‰æ„æ€çš„æ•™ç¨‹ï¼Œè€Œä¸”ç½‘ç«™å¾ˆï¼å¯ï¼çˆ±ï¼

## Hugoéƒ¨åˆ†

### ä¸‹è½½hugo  

[Hugoå®˜ç½‘å®‰è£…é¡µ](https://gohugo.io/installation/)æœ‰é€‚åˆä¸åŒç³»ç»Ÿç¯å¢ƒçš„å®‰è£…è¯´æ˜ï¼Œå¹¶ä¸”ä»‹ç»äº†å¤šç§å®‰è£…æ–¹å¼ã€‚æˆ‘æ˜¯åœ¨ prebuilt binaries è¿™ä¸€èŠ‚ç‚¹å‡» [latest release](https://github.com/gohugoio/hugo/releases/tag/v0.111.2)ï¼Œè¿›å…¥æœ€æ–°ç‰ˆæœ¬å‘å¸ƒé¡µé¢ï¼Œä¸‹æ»‘è‡³é¡µé¢å°¾ç«¯å±•å¼€ Assetsï¼Œä¸‹è½½äº† `hugo_extended_0.110.0_windows-amd64.zip`ã€‚

å°†å‹ç¼©åŒ…è§£å‹ï¼Œå¾—åˆ° `exe`ï¼Œ`license` å’Œ `README` æ–‡ä»¶ï¼Œåœ¨ç£ç›˜é‡Œå»ºä¸€ä¸ªåä¸º `hugo` çš„æ–‡ä»¶å¤¹ï¼Œåœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¹‹ä¸‹å†åˆ›å»ºä¸€ä¸ªå«åš `bin` çš„æ–‡ä»¶å¤¹ï¼Œå°†è§£å‹åçš„ `exe` æ–‡ä»¶æ‹–åˆ° `bin` æ–‡ä»¶å¤¹ä¸­ã€‚  

### é…ç½®ç¯å¢ƒ  

æ¥ä¸‹æ¥éœ€è¦å°† `hugo` æ·»åŠ åˆ°ç³»ç»Ÿè·¯å¾„ï¼Œå¤åˆ¶å«æœ‰ `hugo.exe` æ–‡ä»¶çš„ `bin` æ–‡ä»¶å¤¹è·¯å¾„ã€‚ç„¶åå¯ä»¥æŒ‰ä¸‹ `Win+X`ï¼Œæˆ–è€…ä»¥å…¶ä»–ä¹ æƒ¯çš„æ–¹å¼æ‰¾åˆ°**ç³»ç»Ÿâ€”â€”é«˜çº§ç³»ç»Ÿè®¾ç½®â€”â€”ç¯å¢ƒå˜é‡â€”â€”ç”¨æˆ·å˜é‡â€”â€”é€‰ä¸­ path å˜é‡å¹¶ç¼–è¾‘æ·»åŠ **â€”â€”ç²˜è´´åˆšåˆšå¤åˆ¶ä¸‹çš„è·¯å¾„ã€‚  

{{< admonition note "å¦‚æœæŠ¥é”™ï¼šå¾—åˆ°çš„ä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤ï¼Œä¹Ÿä¸æ˜¯å¯è¿è¡Œçš„ç¨‹åºæˆ–æ‰¹å¤„ç†æ–‡ä»¶" false>}}
éœ€è¦æ£€æŸ¥ä¸€ä¸‹å«æœ‰ git.exe çš„ bin æ–‡ä»¶å¤¹å’Œ git-core æ–‡ä»¶å¤¹æ˜¯å¦ä¹Ÿåœ¨ path å˜é‡ä¸­ã€‚å¦‚æœä¸åœ¨ï¼Œä¹‹åè¿è¡Œ git å‘½ä»¤æ—¶ï¼Œå¯èƒ½ä¼šæ˜¾ç¤ºè¿™ä¸ªé”™è¯¯ã€‚å¦‚æœå…ˆå®‰è£…çš„æ˜¯Github Desktop è¿™æ ·ä¸€ä¸ªç”¨äºä½¿ç”¨ Git çš„å›¾å½¢æ“ä½œç•Œé¢å®¢æˆ·ç«¯ï¼Œéœ€è¦æ³¨æ„å®ƒè™½ç„¶ä¹Ÿå«æœ‰ä¸€ä¸ªæ—§ç‰ˆæœ¬çš„ git-for-windowsï¼Œä½†åœ¨ç›®å½•æŒºæ·±çš„ä½ç½®æ‰èƒ½æ‰¾åˆ°å«æœ‰ git.exe çš„ bin æ–‡ä»¶å¤¹ï¼Œéœ€è¦å°†è¿™ä¸ªè·¯å¾„æ·»åŠ è‡³ä¸Šé¢çš„ path å˜é‡ä¸­æ‰è¡Œã€‚
{{< /admonition>}}

åœ¨ç»ˆç«¯è¾“å…¥`hugo version`ï¼Œå¦‚æœæ˜¾ç¤ºäº†ç‰ˆæœ¬å·ï¼Œåˆ™è¡¨ç¤ºé…ç½®æ­£ç¡®o(*ï¿£â–½ï¿£*)ãƒ–

<!--
é€‰æ‹©ä¸€ä¸ªé€‚åˆå­˜æ”¾ç½‘ç«™æ–‡ä»¶å¤¹çš„åœ°æ–¹ï¼Œåœ¨ç»ˆç«¯ä½¿ç”¨`[cd]^(change directory) ç›®æ ‡è·¯å¾„`å‘½ä»¤ï¼Œæˆ–è€…åœ¨ç›®æ ‡è·¯å¾„ä¹‹ä¸‹æŒ‰é¼ æ ‡å³é”®é€‰æ‹©â€œGit Bash Hereâ€ï¼ˆå¦‚æœå®‰è£…äº†gitï¼‰ï¼Œå°±ä¼šæ‰“å¼€ç»ˆç«¯å¹¶ä¼šæŒ‡å®šè¿™ä¸ªè·¯å¾„ä¸‹è¿›è¡Œæ“ä½œã€‚ä¹‹åå°±å¯ä»¥ä½¿ç”¨`hugo new site name`å»ºç«‹ç½‘ç«™æ–‡ä»¶å¤¹ï¼Œ`name`æ˜¯ç»™è¿™ä¸ªæ–‡ä»¶å¤¹å–çš„åå­—ã€‚
-->

### å®‰è£…ä¸»é¢˜


æˆ‘å…ˆæ˜¯å®‰è£…äº† PaperMod å’Œ Tranquilpeak ä¸¤ä¸ªæ¨¡æ¿ï¼Œæœ€åæ¢äº†è¿™ä¸ª LoveItï¼Œç°åœ¨åˆè§‰å¾— Stack ä¹Ÿå¾ˆå¥½ã€‚æ–°æ‰‹å¦‚æˆ‘ï¼Œå»ºè®®é€‰ä¸€äº›æ–‡ä»¶ç»“æ„å’Œç”¨æˆ·æ–‡æ¡£éƒ½æ¸…æ™°çš„ä¸»é¢˜å¼€å§‹æŠ˜è…¾ã€‚

å®‰è£…ä¸»é¢˜çš„æ–¹æ³•å¤§åŒå°å¼‚ï¼Œä»¥æˆ‘å®‰è£…è¿™ä¸ªä¸»é¢˜ä½¿ç”¨çš„å‘½ä»¤ä¸ºä¾‹ï¼š

```PowerShell
pwd               # æŸ¥çœ‹å½“å‰è·¯å¾„
cd C:\            # è½¬è‡³ C ç›˜æˆ–è€…æƒ³æ”¾ç½®ç½‘ç«™æ–‡ä»¶å¤¹çš„è·¯å¾„
hugo new site forest  
        #è¿™è¡Œå‘½ä»¤ä¼šåœ¨å½“å‰è·¯å¾„åˆ›å»ºä¸€ä¸ªåä¸º forest çš„ hugo ç½‘ç«™æ–‡ä»¶å¤¹
cd forest         # è½¬åˆ° forest ç›®å½•
git clone https://github.com/dillonzq/LoveIt.git themes/LoveIt 
        # ä»¥å…‹éš†æ–¹å¼å®‰è£…ä¸»é¢˜
echo "theme = 'LoveIt'" >> config.toml 
        # åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šæ¨¡æ¿åå­—ï¼Œå¦åˆ™ä¼šæ‰¾ä¸åˆ°æ¨¡æ¿
hugo new posts/first-post.md # åˆ›å»ºä¸€ç¯‡åšå®¢
hugo server -D # æœ¬åœ°é¢„è§ˆç½‘ç«™
```

ä½¿ç”¨ `hugo new site` å‘½ä»¤åï¼Œåœ¨ç½‘ç«™æ–‡ä»¶å¤¹å†…ä¼šç”Ÿæˆå¦‚ä¸‹çš„æ–‡ä»¶å¤¹å’Œæ–‡ä»¶ï¼š

```Markdown
archetypes
    | default.md
assets
content
data
layouts
public
static
themes               
config.toml                  # é…ç½®æ–‡ä»¶
```
  
è¿è¡Œ `git clone` å themes æ–‡ä»¶å¤¹ä¹‹ä¸‹ä¼šå¾—åˆ°ä¸€ä¸ªä¸»é¢˜æ–‡ä»¶å¤¹ï¼Œç›®å½•å¦‚ä¸‹ï¼š

```Markdown
.circleci
.git
.github
.husky
archetypes
assets
exampleSite
i18n
images
layouts
resources
src
static
.babelrc
.gitignore
config.toml
go.mod
LICENSE
package.json
package-lock.json
README.md
README.zh-cn.md
theme.toml
```
  
æœ‰ä¸‰ç§ä¸»é¢˜å®‰è£…æ–¹å¼ï¼Œä½¿ç”¨ `git clone`ï¼Œ`git submodule` ä»¥åŠç›´æ¥ä¸‹è½½ä¸»é¢˜å‹ç¼©åŒ…ï¼Œæ”¾åˆ°themesæ–‡ä»¶å¤¹é‡Œã€‚å¦‚æœä¸‹è½½å‹ç¼©åŒ…ï¼Œå°±ä¸ä¼šæœ‰ `.git` è¿™ä¸ªæ–‡ä»¶å¤¹ã€‚çœ‹åˆ°[è¿™ç¯‡æ–‡ç« ](https://randomwaves.space/posts/build-a-hugo-site-from-zero/)è¯´æ…ç”¨å‰ä¸¤ç§æ–¹å¼ï¼Œè¿˜æ²¡æœ‰ææ‡‚ä¸ºä»€ä¹ˆã€‚

å®‰è£…å¥½äº†ä¹‹åéœ€è¦æŒ‡å®šä¸»é¢˜ï¼Œé™¤äº†ä½¿ç”¨å‘½ä»¤è¡Œä¹‹å¤–ï¼Œä¹Ÿå¯ä»¥ç›´æ¥åœ¨æ ¹ç›®å½•çš„ config.toml é‡Œæ·»ä¸€è¡Œ `theme = 'LoveIt'`ã€‚åå­—è¦å’Œä¸»é¢˜æ–‡ä»¶å¤¹çš„åå­—ä¸€æ¨¡ä¸€æ ·ã€‚

`hugo new posts/first-post.md` è¿™æ¡å‘½ä»¤ä¼šé»˜è®¤åœ¨content æ–‡ä»¶å¤¹å†…åˆ›å»º posts æ–‡ä»¶å¤¹ï¼Œfirst-post æ˜¯æ–‡æ¡£çš„åå­—ã€‚posts æ˜¯è·¯å¾„ï¼Œæ¢æˆ `posts/tech/second-post.md` çš„è¯ï¼Œå°±æ˜¯åœ¨ posts ä¹‹ä¸‹å»ºä¸ª tech æ–‡ä»¶å¤¹ï¼Œå†åœ¨é‡Œé¢ç”Ÿæˆæ–‡æ¡£ã€‚ä½¿ç”¨è¿™ä¸ªå‘½ä»¤è¡Œåˆ›å»ºæ–‡æ¡£ä¼šè‡ªåŠ¨åœ¨æ–°å»ºæ–‡æ¡£å†…æ·»åŠ `_default.md` ä¸­å®šä¹‰çš„å‰ç½®å‚æ•°ï¼Œæ¯”å¦‚æ ‡é¢˜ã€æ—¥æœŸå’Œæ˜¯å¦ä¸ºè‰ç¨¿ç­‰ç­‰ï¼Œå…¶ä»–æ”¯æŒçš„å‚æ•°å¯ä»¥å‚è€ƒä¸»é¢˜æ–‡ä»¶å¤¹å†…çš„åŒåæ–‡ä»¶ã€‚

è¿è¡Œ `hugo server -D` ï¼Œå¦‚æœæ²¡æœ‰æŠ¥é”™ï¼Œæµè§ˆå™¨å†…è¾“å…¥ localhost:1313 å°±å¯ä»¥çœ‹åˆ°ç½‘ç«™äº†ã€‚`-D` çš„æ„æ€æ˜¯ä¹Ÿä¼šæ˜¾ç¤ºå‰ç½®å‚æ•°ä¸­ `draft` è®¾ç½®ä¸º `true` çš„æ–‡æ¡£ã€‚ å®˜ç½‘çš„ [Getting Started](https://gohugo.io/getting-started/quick-start/) è¯´å¾—æŒºæ¸…æ¥šã€‚
 
### ç½‘ç«™è£…ä¿®

åœ¨åŸä¸»é¢˜çš„åŸºç¡€ä¸Šï¼Œæˆ‘åšäº†ä¸€ç‚¹æ”¹åŠ¨ï¼Œå…·ä½“åœ¨[è¿™ç¯‡è®°å½•](../brush/index.md)é‡Œã€‚

## éƒ¨ç½²æ‰˜ç®¡é™æ€ç½‘ç«™

### ä¸Šä¼ è‡³ Github Pages

å‚ç…§çš„æ˜¯[éƒé¸¿æ¶›â€”â€”å¦‚ä½•é›¶åŸºç¡€å…è´¹æ­å»ºä¸ªäººç½‘ç«™ï¼ˆ2021-03-02ï¼‰](https://hongtaoh.com/cn/2021/03/02/personal-website-tutorial/#å‰æœŸå‡†å¤‡)è¿™ç¯‡ä¸­æä¾›çš„æ–¹æ³•ã€‚ä½†æ˜¯è¿™ç¯‡æ•™ç¨‹ä¸­çš„ `gh-pages.yml` æœ‰å‡ ä¸ªéœ€è¦ä¿®æ”¹çš„åœ°æ–¹ï¼š

- Github çš„é»˜è®¤åˆ†æ”¯ç°åœ¨ä» `master` æ”¹æˆäº† `main`ï¼ˆè§[å®˜æ–¹è¯´æ˜](https://github.com/github/renaming)ï¼‰ï¼›
- `ubuntu-18.04` è¿™ä¸ªç‰ˆæœ¬åˆ° 2023-04-01 å°±ä¸èƒ½ç”¨ï¼Œéœ€è¦æ”¹æˆ `ubuntu-latest`, `ubuntu-20.04`, æˆ–è€… `ubuntu-22.04`ï¼Œè¯¦æƒ…è§[è¿™ä¸ªæ–‡æ¡£](https://github.com/actions/runner-images "GitHub Actions runner images repository")ï¼›
- `node.js 12`è¢«å¼ƒç”¨äº†ï¼Œéœ€è¦æ›´æ–°ï¼Œè§[è¿™é‡Œ](https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions#example-using-versioned-actions "Github Actions å·¥ä½œæµè¯­æ³•")ï¼›
- LoveIt ä¸»é¢˜ä½¿ç”¨äº† SCSS ï¼Œè¿™ä¸ªæ˜¯æ‰©å±•ç‰ˆæ”¯æŒçš„ï¼Œæ‰€ä»¥æˆ‘æ·»åŠ äº†ä¸€è¡Œ`extended: true`;

å¦‚ä¸‹ï¼š

``` yml
name: github pages

on:
  push:
    branches:
      - main  # Set a branch name to trigger deployment

jobs:
  deploy:
    runs-on: ubuntu-22.04
    steps:
      - uses: actions/checkout@v3
        with:
          submodules: true  # Fetch Hugo themes (true OR recursive)
          fetch-depth: 0    # Fetch all history for .GitInfo and .Lastmod
          token: ${{ secrets.PERSONAL_TOKEN }}

      - name: Setup Hugo
        uses: peaceiris/actions-hugo@v2
        with:
          hugo-version: '0.110.0'    # ä¿®æ”¹ä¸ºä½ çš„ hugo version
          extended: true

      - name: Build
        run: hugo --minify

      - name: Deploy
        uses: peaceiris/actions-gh-pages@v3
        with:
          github_token: ${{ secrets.PERSONAL_TOKEN }}
          publish_branch: gh-pages
          publish_dir: ./public
          cname: wisterias.one     # ä½¿ç”¨è‡ªå®šåŸŸåæ—¶éœ€è¦è¿™è¡Œ
```

### è‡ªå®šä¹‰åŸŸå

### åç»­æ›´æ–°

## å­˜å‚¨å›¾ç‰‡
